<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem e-Sijil JPN Melaka</title>
	
	<link rel="icon" type="image/png" href="https://i.postimg.cc/jdp3yqpZ/logotech.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden">
        
        <header>
            <img 
                src="https://i.postimg.cc/prtyDFJQ/tech2025.png" 
                alt="Header Sistem e-Sijil" 
                class="w-full h-auto"
            >
        </header>

        <nav class="flex border-b">
            <button id="tab-btn-1" class="tab-button flex-1 py-4 px-6 text-center font-medium text-gray-700 hover:bg-gray-100 focus:outline-none transition duration-150 ease-in-out hidden">
                Arahan Penggunaan
            </button>
            <button id="tab-btn-2" class="tab-button flex-1 py-4 px-6 text-center font-medium text-gray-700 hover:bg-gray-100 focus:outline-none transition duration-150 ease-in-out hidden">
                Daftar Kehadiran
            </button>
            <button id="tab-btn-3" class="tab-button flex-1 py-4 px-6 text-center font-medium text-gray-700 hover:bg-gray-100 focus:outline-none transition duration-150 ease-in-out">
                Semak Sijil
            </button>
            <button id="tab-btn-4" class="tab-button flex-1 py-4 px-6 text-center font-medium text-gray-700 hover:bg-gray-100 focus:outline-none transition duration-150 ease-in-out">
                Rumusan
            </button>
        </nav>

        <div class="p-6 md:p-8">
            <div id="tab-content-1" class="tab-content space-y-6">
                <h2 class="text-2xl font-semibold mb-4 text-gray-800">Selamat Datang!</h2>
                <div>
                    <h3 class="text-xl font-bold mb-3">üìú Cara Dapatkan Sijil Anda</h3>
                    <ol class="list-decimal list-inside space-y-2 pl-4 text-gray-700">
                        <li>Pergi ke tab <strong>Daftar Kehadiran</strong>.</li>
                        <li>Isi nama penuh (HURUF BESAR), No. KP, dan maklumat lain dengan betul.</li>
                        <li>Tekan butang <strong>Hantar Pendaftaran</strong>.</li>
                        <li>Bila pendaftaran berjaya, pergi ke tab <strong>Semak Sijil</strong>.</li>
                        <li>Masukkan No. Kad Pengenalan anda (12 digit tanpa '-') dan tekan <strong>Cari</strong>.</li>
                        <li>Sijil anda akan muncul! Tekan butang <strong>Cetak / Simpan PDF</strong>.</li>
                    </ol>
                </div>

                <div>
                    <h3 class="text-xl font-bold mb-3">üñ®Ô∏è PENTING! Tetapan Cetak (PC/Mac Sahaja)</h3>
                    <p class="mb-4 text-gray-700">
                        Arahan di bawah adalah khusus untuk pelayar (browser) <strong>Google Chrome di PC atau Mac</strong>.
                    </p>
                    <ul class="list-disc list-inside space-y-2 pl-4 text-gray-700">
                        <li><strong>Destinasi</strong> (Destination): Pastikan ia <strong>Simpan sebagai PDF</strong> (Save as PDF).</li>
                        <li><strong>Saiz Kertas</strong> (Paper size): Mesti pilih <strong>A4</strong>.</li>
                        <li><strong>Susun Atur</strong> (Layout): Mesti pilih <strong>Portrait</strong>.</li>
                        <li><strong>Margin</strong> (Margins): Mesti pilih <strong>None</strong> (Tiada).</li>
                        <li class="font-bold text-red-600"><strong>Skala</strong> (Scale): Pilih <strong>Custom</strong>, dan taip nombor <strong>150</strong>.</li>
                    </ul>
                </div>
            </div>

            <div id="tab-content-2" class="tab-content hidden">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Borang Pendaftaran Kehadiran</h2>
                <form id="form-pendaftaran" class="space-y-6">
                    <div>
                        <label for="nama" class="block text-sm font-medium text-gray-700 mb-1">Nama Penuh (HURUF BESAR)</label>
                        <input type="text" id="nama" name="nama" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required
                               oninput="this.value = this.value.toUpperCase()">
                    </div>
                    <div>
                        <label for="nokp" class="block text-sm font-medium text-gray-700 mb-1">No. Kad Pengenalan (12 digit, tanpa '-')</label>
                        <input type="text" id="nokp" name="nokp" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required
                               pattern="[0-9]{12}" maxlength="12" title="Sila masukkan 12 digit nombor KP tanpa sempang.">
                    </div>
                    <div>
                        <label for="negeri" class="block text-sm font-medium text-gray-700 mb-1">Negeri</label>
                        <select id="negeri" name="negeri" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white" required>
                            <option value="">-- Sila Pilih Negeri --</option>
                            <option value="PAHANG">PAHANG</option>
                            <option value="PERAK">PERAK</option>
                            <option value="TERENGGANU">TERENGGANU</option>
                            <option value="PERLIS">PERLIS</option>
                            <option value="SELANGOR">SELANGOR</option>
                            <option value="NEGERI SEMBILAN">NEGERI SEMBILAN</option>
                            <option value="JOHOR">JOHOR</option>
                            <option value="KELANTAN">KELANTAN</option>
                            <option value="KEDAH">KEDAH</option>
                            <option value="PULAU PINANG">PULAU PINANG</option>
                            <option value="MELAKA">MELAKA</option>
                            <option value="SABAH">SABAH</option>
                            <option value="SARAWAK">SARAWAK</option>
                            <option value="WILAYAH PERSEKUTUAN KUALA LUMPUR">WILAYAH PERSEKUTUAN KUALA LUMPUR</option>
                            <option value="WILAYAH PERSEKUTUAN LABUAN">WILAYAH PERSEKUTUAN LABUAN</option>
                            <option value="WILAYAH PERSEKUTUAN PUTRAJAYA">WILAYAH PERSEKUTUAN PUTRAJAYA</option>
                        </select>
                    </div>
                    <div id="daerah-melaka-container" class="hidden space-y-1">
                        <label for="daerah" class="block text-sm font-medium text-gray-700">Daerah (Melaka)</label>
                        <select id="daerah" name="daerah" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white">
                            <option value="">-- Sila Pilih Daerah --</option>
                            <option value="ALOR GAJAH">ALOR GAJAH</option>
                            <option value="JASIN">JASIN</option>
                            <option value="MELAKA TENGAH">MELAKA TENGAH</option>
                        </select>
                    </div>
                    <div>
                        <label for="peranan" class="block text-sm font-medium text-gray-700 mb-1">Peranan</label>
                        <select id="peranan" name="peranan" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white" required>
                            <option value="">-- Sila Pilih Peranan --</option>
                            <option value="MURID / PELAJAR">MURID / PELAJAR</option>
                            <option value="GURU">GURU</option>
                            <option value="PEGAWAI DI JPN">PEGAWAI DI JPN</option>
                            <option value="PEGAWAI DI PPD">PEGAWAI DI PPD</option>
                            <option value="IBU BAPA">IBU BAPA</option>
                        </select>
                    </div>
                    <div>
                        <label for="sekolah" class="block text-sm font-medium text-gray-700 mb-1">Nama Sekolah / Jabatan (HURUF BESAR)</label>
                        <input type="text" id="sekolah" name="sekolah" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                               oninput="this.value = this.value.toUpperCase()">
                        <p id="sekolah-helper" class="text-xs text-gray-500 mt-1">Wajib diisi jika peranan anda GURU, MURID, PEGAWAI JPN, atau PEGAWAI PPD.</p>
                    </div>
                    <div>
                        <button type="submit" id="submit-btn" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                            Hantar Pendaftaran
                        </button>
                    </div>
                </form>
            </div>

            <div id="tab-content-3" class="tab-content hidden">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Semakan Sijil</h2>
                <form id="form-semakan" class="flex flex-col sm:flex-row gap-4 mb-6">
                    <div class="flex-grow">
                        <label for="nokp-semak" class="block text-sm font-medium text-gray-700 mb-1">No. Kad Pengenalan</label>
                        <input type="text" id="nokp-semak" class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Masukkan 12 digit No. KP" pattern="[0-9]{12}" maxlength="12" required>
                    </div>
                    <div class="flex items-end gap-2">
                        <button type="submit" id="search-btn" class="w-full sm:w-auto flex justify-center py-2 px-6 border border-transparent rounded-md shadow-sm text-lg font-medium text-black bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 transition duration-150 ease-in-out">
                            Cari
                        </button>
                        <button type="button" id="reset-btn" class="w-full sm:w-auto flex justify-center py-2 px-6 border border-gray-300 rounded-md shadow-sm text-lg font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                            Reset
                        </button>
                    </div>
                </form>
                
                <div id="sijil-container" class="mt-6"></div>
            </div>

            <div id="tab-content-4" class="tab-content hidden">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Rumusan Kehadiran</h2>
                
                <div id="rumusan-global-container" class="mb-8 p-6 bg-gray-50 rounded-lg shadow-inner">
                    <h3 class="text-xl font-bold mb-4">Rumusan Keseluruhan</h3>
                </div>
                
                <h3 class="text-xl font-bold mb-4">Pecahan Mengikut Negeri</h3>
                <div id="rumusan-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"></div>
            </div>
        </div>
    </div>

    <footer class="text-center text-gray-500 text-sm mt-8">
        Hakcipta Terpelihara #TEAMjpnmelaka
    </footer>

    <script type="module" src="script.js"></script>
</body>
</html>